<%= render 'shared/combobox',
  form: form,
  search_url: search_variants_records_path,
  selected: record.variant_id? ? [record.variant_id.to_s] : [],
  label: t('.variant.label'),
  field: :variant_id,
  value: record.variant_id,
  display_value: record.variant&.name,
  search_field_name: 'search_variant',
  record: record,
  placeholder: t('.variant.placeholder'),
  search_locals: { partial: "records/search/variants",
    locals: { variants: variants, list_class: 'hidden', selected: record.variant_id } }
%>

<%= form.number_field :unit_price, label: t('.price.label'), placeholder: t('.price.placeholder') %>

<%= form.number_field :quantity, label: t('.quantity.label'), placeholder: t('.quantity.placeholder') %>

<%= form.collection_radio_buttons :status, form_statuses, :first, :last %>

<%= form.collection_radio_buttons :category, form_categories, :first, :last %>

<%= render 'shared/combobox',
  form: form,
  search_url: search_customers_records_path,
  selected: record.customer_id? ? [record.customer_id.to_s] : [],
  label: t('.customer.label'),
  field: :customer_id,
  value: record.customer_id || params.dig(:record, :customer_id),
  display_value: record.customer&.full_name,
  search_field_name: 'search_customer',
  record: record,
  placeholder: t('.customer.placeholder'),
  search_locals: { partial: "records/search/customers",
    locals: { customers: customers, list_class: 'hidden', selected: record.customer_id } },
  add_new_locals: { partial: 'records/new_customer_form',
    form: form,
    placeholder: t('.add_customer'),
    show_form: params[:add_new_option] == 'true',
    locals: { form: form, record: record }}
%>
